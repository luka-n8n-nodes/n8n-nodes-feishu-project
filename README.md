# @luka-cat-mimi/n8n-nodes-feishu-project

飞书项目 n8n 社区节点，提供飞书项目开放平台 API 的集成支持。

## 安装

参考：https://docs.n8n.io/integrations/community-nodes/installation/

节点名称：`@luka-cat-mimi/n8n-nodes-feishu-project`

## 特性

1. **批次处理**：提高自动化调用效率
2. **动态表单**：大幅降低开发门槛
3. **超时处理**：避免请求长时间挂起
4. **自动获取分页全部数据**：无需手动处理分页逻辑

## 功能列表

### 用户管理 (4)

| 功能 |
|------|
| 获取用户信息 |
| 搜索租户内的用户列表 |
| 创建用户组 |
| 更新用户组成员 |

### 空间管理 (6)

| 功能 |
|------|
| 获取空间列表 |
| 获取空间列表详情 |
| 获取空间详情 |
| 获取空间业务线 |
| 获取空间团队成员 |
| 获取空间工作项类型列表 |

### 空间关联 (4)

| 功能 |
|------|
| 获取关联规则列表 |
| 绑定工作项关联 |
| 解绑工作项关联 |
| 获取关联工作项列表 |

### 工作项实例 (16)

| 功能 |
|------|
| 创建工作项 |
| 查询工作项详情 |
| 更新工作项 |
| 删除工作项 |
| 批量更新工作项 |
| 终止工作项 |
| 获取工作项元数据 |
| 获取工作项操作记录 |
| 获取工作项任务结果 |
| 批量查询评审信息 |
| 查询评审结论 |
| 更新评审 |
| 创建工时记录 |
| 获取工时记录列表 |
| 更新工时记录 |
| 删除工时记录 |

### 工作项搜索 (4)

| 功能 |
|------|
| 单空间工作项搜索 |
| 复杂条件搜索 |
| 全局搜索 |
| 关联工作项搜索 |

### 工作项配置 (9)

| 功能 |
|------|
| 获取工作项基础信息 |
| 更新工作项基础信息 |
| 创建工作项字段 |
| 获取工作项字段 |
| 更新工作项字段 |
| 创建工作项关联配置 |
| 获取工作项关联配置 |
| 更新工作项关联配置 |
| 删除工作项关联配置 |

### 流程与节点 (5)

| 功能 |
|------|
| 查询流程节点 |
| 更新流程节点 |
| 操作流程节点 |
| 变更工作项状态 |
| 获取WBS视图 |

### 流程配置 (1)

| 功能 |
|------|
| 创建流程模板 |

### 角色与人员配置 (1)

| 功能 |
|------|
| 获取流程角色列表 |

### 子任务 (5)

| 功能 |
|------|
| 创建子任务 |
| 获取子任务详情 |
| 更新子任务 |
| 操作子任务 |
| 删除子任务 |

### 视图管理 (8)

| 功能 |
|------|
| 获取视图列表 |
| 创建条件视图 |
| 更新条件视图 |
| 创建固定视图 |
| 更新固定视图 |
| 删除视图 |
| 获取全景视图 |
| 获取视图工作项列表 |

### 评论管理 (4)

| 功能 |
|------|
| 创建评论 |
| 查询评论 |
| 更新评论 |
| 删除评论 |

### 附件管理 (4)

| 功能 |
|------|
| 文件上传（通用） |
| 工作项附件上传 |
| 附件下载 |
| 附件删除 |

### 群组 (1)

| 功能 |
|------|
| 机器人加入聊天 |

### 度量 (1)

| 功能 |
|------|
| 获取图表详情 |

## ✨ 特别之处

### ⏱️ 超时与批次管理

大部分接口支持以下高级选项：

- **Timeout（超时时间）**：设置请求超时时间（毫秒），避免请求长时间挂起
- **Batching（批次管理）**：
  - **Items per Batch**：每批处理的数量，用于控制请求频率
  - **Batch Interval (ms)**：每批请求之间的等待时间，避免触发 API 限流

这些功能可在接口的 `Options` 选项中配置，有效应对飞书项目 API 的频率限制。

### 🔍 动态空间与工作项类型加载

节点支持动态加载空间列表和工作项类型，在配置参数时可直接从下拉列表选择，无需手动输入。

### 📂 文件上传支持

支持通过二进制数据上传文件，可与 "Read Binary File" 或其他节点配合使用，实现完整的文件处理工作流。

## 凭证配置

在 N8N 中创建 "飞书项目 API" 凭据，填入以下信息：

| 字段 | 说明 | 示例 |
|------|------|------|
| **飞书项目 Host** | 飞书项目的基础 host 地址 | `project.feishu.cn` |
| **插件 ID** | 飞书项目插件的 ID | `MII_0000000000000000` |
| **插件密钥** | 飞书项目插件的密钥 | `AB92E56666CT8D60704743BF69C92C16` |
| **用户 ID** | 用户的唯一 ID，用于 X-USER-KEY 头部 | `7568516887894324252` |

### 获取凭据信息

#### 插件 ID 和插件密钥

1. 登录飞书项目管理后台
2. 进入插件管理页面
3. 查看或创建插件，获取插件 ID 和密钥

#### 用户 ID

开发者自己的 user_key，在飞书项目空间左下角双击个人头像获取

## 注意事项

1. 使用插件凭证访问 API 时，需确保插件具有相应的权限
2. 错误码查询：https://project.feishu.cn/b/helpcenter/1p8d7djs/4bsmoql6

## 📝 许可证

MIT License

## 🆘 支持

- 📧 邮箱：luka.cat.mimi@gmail.com
- 🐛 [问题反馈](https://github.com/luka-n8n-nodes/n8n-nodes-feishu-project/issues)
